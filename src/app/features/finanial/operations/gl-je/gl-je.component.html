

<div class="container-fluid">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="title">{{ 'glJEResourceName.title' | translate }}</h1>
  </div>

  <div class="filter mb-3">
    <div class="d-flex justify-content-between align-items-center">
      <h4 class="filter-title mb-0">{{ 'Common.SearchTitle' | translate }}</h4>
      <button class="btn btn-filter" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample"
              aria-expanded="false" aria-controls="collapseExample">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M17.7499 6.31657H13.0999C12.7749 6.31657 12.5166 6.05824 12.5166 5.73324C12.5166 5.40824 12.7749 5.1499 13.0999 5.1499H17.7499C18.0749 5.1499 18.3333 5.40824 18.3333 5.73324C18.3333 6.05824 18.0749 6.31657 17.7499 6.31657Z"
                fill="" />
          <path d="M5.35033 6.31657H2.25033C1.92533 6.31657 1.66699 6.05824 1.66699 5.73324C1.66699 5.40824 1.92533 5.1499 2.25033 5.1499H5.35033C5.67533 5.1499 5.93366 5.40824 5.93366 5.73324C5.93366 6.05824 5.66699 6.31657 5.35033 6.31657Z"
                fill="" />
          <path d="M8.44987 9.02523C10.2678 9.02523 11.7415 7.5515 11.7415 5.73356C11.7415 3.91562 10.2678 2.44189 8.44987 2.44189C6.63193 2.44189 5.1582 3.91562 5.1582 5.73356C5.1582 7.5515 6.63193 9.02523 8.44987 9.02523Z"
                fill="" />
          <path d="M17.7497 14.8415H14.6497C14.3247 14.8415 14.0664 14.5831 14.0664 14.2581C14.0664 13.9331 14.3247 13.6748 14.6497 13.6748H17.7497C18.0747 13.6748 18.3331 13.9331 18.3331 14.2581C18.3331 14.5831 18.0747 14.8415 17.7497 14.8415Z"
                fill="" />
          <path d="M6.90033 14.8415H2.25033C1.92533 14.8415 1.66699 14.5831 1.66699 14.2581C1.66699 13.9331 1.92533 13.6748 2.25033 13.6748H6.90033C7.22533 13.6748 7.48366 13.9331 7.48366 14.2581C7.48366 14.5831 7.21699 14.8415 6.90033 14.8415Z"
                fill="" />
          <path d="M11.5505 17.5584C13.3684 17.5584 14.8421 16.0847 14.8421 14.2668C14.8421 12.4488 13.3684 10.9751 11.5505 10.9751C9.73252 10.9751 8.25879 12.4488 8.25879 14.2668C8.25879 16.0847 9.73252 17.5584 11.5505 17.5584Z"
                fill="" />
        </svg>
      </button>
    </div>

    <div class="collapse" id="collapseExample">
      <div class="card card-body">
        <form #filterForm="ngForm">

          <div class="row mb-3">
            <div class="col-xl-4 mb-3">
              <label for="entityId" class="form-label">{{ 'glJEResourceName.entityId' | translate }}</label>
              <ng-select class="ng-select-custom"
                         name="entitySelect2"
                         [(ngModel)]="selectedentitySelect2Obj"
                         [items]="entitySelect2"
                         bindLabel="text"
                         bindValue="id"
                         [typeahead]="entitySearchInput$"
                         [loading]="loadingentity"
                         [virtualScroll]="true"
                         (scrollToEnd)="loadMoreentity()"
                         (change)="onentitySelect2Change($event)"
                         (search)="onentitySearch($event)"
                         placeholder="{{ 'Common.Select' | translate }}">
              </ng-select>

            </div>

            <div class="col-xl-4 mb-3">
              <label for="Att10" class="form-label">{{ 'glJEResourceName.jvNo' | translate }} </label>
              <input type="text" class="form-control" [(ngModel)]="searchParams.att10" name="att10"
                     [placeholder]="'Common.placeholderSearch' | translate">
            </div>
            <div class="col-xl-4 mb-3">
              <label for="JE_NAME" class="form-label">{{ 'glJEResourceName.jvName' | translate }}</label>
              <input type="text" class="form-control" [(ngModel)]="searchParams.jE_NAME" name="jE_NAME"
                     [placeholder]="'Common.placeholderSearch' | translate">
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-xl-4 mb-3">
              <label for="att7" class="form-label">{{ 'glJEResourceName.jvManualNo' | translate }} </label>
              <input type="text" class="form-control" [(ngModel)]="searchParams.att7" name="att7"
                     [placeholder]="'Common.placeholderSearch' | translate">
            </div>
            <div class="col-xl-4 mb-3">
              <label for="amount" class="form-label">{{ 'glJEResourceName.value' | translate }}</label>
              <input type="number" class="form-control" [(ngModel)]="searchParams.amount" name="amount"
                     [placeholder]="'Common.placeholderSearch' | translate">
            </div>
            <div class="col-xl-4 mb-3">
              <label for="je_Soure" class="form-label">{{ 'glJEResourceName.referenceNo' | translate }}</label>
              <ng-select class="ng-select-custom"
                         name="je_SoureSelect2"
                         [items]="je_SoureSelect2"
                         bindLabel="text"
                         bindValue="id"
                         [(ngModel)]="selectedJe_SoureSelect2Obj"
                         [typeahead]="je_SoureSearchInput$"
                         [loading]="loadingJe_Soure"
                         [virtualScroll]="true"
                         (scrollToEnd)="loadMoreje_Soure()"
                         (change)="onje_SoureSelect2Change($event)"
                         (search)="onje_SoureSearch($event)"
                         placeholder="{{ 'Common.Select' | translate }}">
              </ng-select>

            </div>
          </div>
          <div class="row mb-3">
            <div class="col-xl-4 mb-3">
              <label for="je_State" class="form-label">{{ 'glJEResourceName.jvStatus' | translate }}</label>
              <ng-select class="ng-select-custom"
                         name="statusSelect2"
                         [items]="statusSelect2"
                         bindLabel="text"
                         bindValue="id"
                         [(ngModel)]="selectedstatusSelect2Obj"
                         [typeahead]="statusSearchInput$"
                         [loading]="loadingstatus"
                         [virtualScroll]="true"
                         (scrollToEnd)="loadMorestatus()"
                         (change)="onstatusSelect2Change($event)"
                         (search)="onstatusSearch($event)"
                         placeholder="{{ 'Common.Select' | translate }}">
              </ng-select>

            </div>
            <div class="col-xl-4 mb-3">
              <label for="je_Curr" class="form-label">{{ 'glJEResourceName.currency' | translate }}</label>
              <ng-select class="ng-select-custom"
                         name="je_CurrSelect2"
                         [items]="je_CurrSelect2"
                         bindLabel="text"
                         bindValue="id"
                         [(ngModel)]="selectedJe_CurrSelect2Obj"
                         [typeahead]="je_CurrSearchInput$"
                         [loading]="loadingJe_Curr"
                         [virtualScroll]="true"
                         (scrollToEnd)="loadMoreje_Curr()"
                         (change)="onje_CurrSelect2Change($event)"
                         (search)="onje_CurrSearch($event)"
                         placeholder="{{ 'Common.Select' | translate }}">
              </ng-select>

            </div>

            <div class="col-xl-4 mb-3">
              <label for="je_Date" class="form-label">{{ 'glJEResourceName.date' | translate }}</label>
              <input type="date" class="form-control" [(ngModel)]="searchParams.je_Date" name="je_Date"
                     placeholder="Select date">
            </div>

               <div class="col-xl-4 mb-3">
              <label class="form-label">{{ 'FinancialReportResourceName.fromDate' | translate }}</label>
              <input type="date" class="form-control" [(ngModel)]="searchParams.fromDate" name="fromDate">
            </div>

            <div class="col-xl-4 mb-3">
              <label class="form-label">{{ 'FinancialReportResourceName.toDate' | translate }}</label>
              <input type="date" class="form-control" [(ngModel)]="searchParams.toDate" name="toDate">
            </div>
          </div>
        </form>

        <div class="d-flex gap-2 justify-content-center">
          <button class="btn btn-outline" (click)="clear()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                 fill="none">
              <path d="M16.19 2H7.81C4.17 2 2 4.17 2 7.81V16.18C2 19.83 4.17 22 7.81 22H16.18C19.82 22 21.99 19.83 21.99 16.19V7.81C22 4.17 19.83 2 16.19 2ZM16 12.75H8C7.59 12.75 7.25 12.41 7.25 12C7.25 11.59 7.59 11.25 8 11.25H16C16.41 11.25 16.75 11.59 16.75 12C16.75 12.41 16.41 12.75 16 12.75Z"
                    fill="#5B5B5B" />
            </svg>
            {{ 'Common.Clear' | translate }}
          </button>
          <button class="btn btn-gold" (click)="onSearch()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                 fill="none">
              <path d="M16.19 2H7.81C4.17 2 2 4.17 2 7.81V16.18C2 19.83 4.17 22 7.81 22H16.18C19.82 22 21.99 19.83 21.99 16.19V7.81C22 4.17 19.83 2 16.19 2ZM16.78 9.7L11.11 15.37C10.97 15.51 10.78 15.59 10.58 15.59C10.38 15.59 10.19 15.51 10.05 15.37L7.22 12.54C6.93 12.25 6.93 11.77 7.22 11.48C7.51 11.19 7.99 11.19 8.28 11.48L10.58 13.78L15.72 8.64C16.01 8.35 16.49 8.35 16.78 8.64C17.07 8.93 17.07 9.4 16.78 9.7Z"
                    fill="white" />
            </svg>
            {{ 'Common.Search' | translate }}
          </button>
          <button class="btn btn-success" (click)="printExcel()">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
  <path d="M7.75 2V7.8H2C2 4.19 4.15 2.02 7.75 2Z" fill="white"/>
  <path d="M22 7.8H16.25V2C19.85 2.02 22 4.19 22 7.8Z" fill="white"/>
  <path d="M22 16.2998C21.96 19.8498 19.82 21.9798 16.25 21.9998V16.2998H22Z" fill="white"/>
  <path d="M7.75 16.2998V21.9998C4.18 21.9798 2.04 19.8498 2 16.2998H7.75Z" fill="white"/>
  <path d="M7.75 9.2998H2V14.7998H7.75V9.2998Z" fill="white"/>
  <path d="M22 9.2998H16.25V14.7998H22V9.2998Z" fill="white"/>
  <path d="M14.75 9.2998H9.25V14.7998H14.75V9.2998Z" fill="white"/>
  <path d="M14.75 2H9.25V7.8H14.75V2Z" fill="white"/>
  <path d="M14.75 16.2998H9.25V21.9998H14.75V16.2998Z" fill="white"/>
</svg>
            {{ 'Common.PrintExcel' | translate }}
          </button>
        </div>
      </div>
    </div>
   
  </div>
 <app-generic-data-table [columnDefs]="columnDefs"
                            [rowData]="loadgridData"
                            [totalCount]="pagination.totalCount"
                            [pageSize]="pagination.take"
                            [currentPage]="pagination.currentPage - 1"
                            [columnHeaderMap]="columnHeaderMap"
                            [rowActions]="rowActions"
                            (actionClick)="onTableAction($event)"
                            (pageChange)="onPageChange($event)"
                            [showActionColumn]="true"
                            (search)="onTableSearch($event)"
                            (languageChanged)="buildColumnDefs()">
    </app-generic-data-table>
    
  <div class="modal fade" id="viewdetails" tabindex="-1" aria-labelledby="editLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="editLabel">{{ 'glJEResourceName.title' | translate }}</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <div class="border-bottom mb-4">
            <h4 class="gold bold">{{ 'Common.Information' | translate }}</h4>
            <div class="row">
              <div class="col-xxl-4 col-xl-6">
                <label class="bold black">{{ 'glJEResourceName.name' | translate }}</label>
                <p id="">{{loadformData.jE_NAME}}</p>
              </div>
              <div class="col-xxl-4 col-xl-6">
                <label class="bold black">{{ 'glJEResourceName.date' | translate }}</label>
                <p id="jeDate">{{loadformData.jE_DATE}}</p>
              </div>
              <div class="col-xxl-4 col-xl-6">
                <label class="bold black">{{ 'glJEResourceName.currency' | translate }}</label>
                <p id="currency">{{loadformData.jE_CURR_DESC}}</p>
              </div>
              <div class="col-xxl-4 col-xl-6">
                <label class="bold black">{{ 'glJEResourceName.rate' | translate }}</label>
                <p id="Period">{{loadformData.perioD_NAME}}</p>
              </div>
              <div class="col-xxl-4 col-xl-6">
                <label class="bold black">{{ 'glJEResourceName.description' | translate }}</label>
                <p id="jE_ID">{{loadformData.jE_ID}}</p>
              </div>
              <div class="col-xxl-4 col-xl-6">
                <label class="bold black">{{ 'glJEResourceName.jvNo' | translate }}</label>
                <p id="attributE10">{{loadformData.attributE10}}</p>
              </div>
              <div class="col-xxl-4 col-xl-6">
                <label class="bold black">{{ 'glJEResourceName.referenceNo' | translate }}</label>
                <p id="jE_SOURCE_DESC">{{loadformData.jE_SOURCE_DESC}}</p>
              </div>
              <div class="col-xxl-4 col-xl-6">
                <label class="bold black">{{ 'glJEResourceName.status' | translate }}</label>
                <p id="jeStatus">{{loadformData.jE_STATUS}}</p>
              </div>

            </div>

            <h4 class="gold bold">{{ 'SpContractsResourceName.Title_SpContractCase' | translate }}</h4>
            <div *ngIf="loadformdetailsData && loadformdetailsData.length > 0">
              <app-generic-data-table [columnDefs]="columnDefslineData"
                                      [rowData]="loadformdetailsData"
                                      [totalCount]="paginationlineData.totalCount"
                                      [pageSize]="paginationlineData.take"
                                      [currentPage]="paginationlineData.currentPage - 1"
                                      [columnHeaderMap]="columnHeaderMap"
                                      (pageChange)="onPageChangelineData($event)"
                                      [showActionColumn]="false"
                                      (search)="onTableSearchlineData($event)"
                                      (languageChanged)="buildColumnDefs()">
              </app-generic-data-table>
            </div>
            <div *ngIf="!loadformdetailsData || loadformdetailsData.length === 0" class="alert alert-info">
              {{ 'Common.NoData' | translate }}
            </div>

            <div class="row mt-4">
              <div class="col-xxl-4 col-xl-6">
                <div class="bg-gray mb-4">
                  <label class="bold black">{{ 'glJEResourceName.totalCredit' | translate }}</label>
                  <p id="totalCredit">{{loadformData.totalCredit}}</p>
                </div>

              </div>
              <div class="col-xxl-4 col-xl-6">
                <div class="bg-gray mb-4">
                  <label class="bold black">{{ 'glJEResourceName.totalDebit' | translate }}</label>
                  <p id="totalDept">{{loadformData.totalDept}}</p>
                </div>

              </div>
            </div>
          </div>


          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary"
                    data-bs-dismiss="modal">
              {{ 'Common.Close' | translate }}
            </button>
          </div>
        </div>
      </div>
    </div>




    <!-- Modal -->
    <div class="modal fade" id="delete" tabindex="-1" aria-labelledby="deleteLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="deleteLabel">Delete</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="text-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"
                   fill="none">
                <path d="M87.7914 21.7916C81.0831 21.1249 74.3748 20.6249 67.6248 20.2499V20.2083L66.7081 14.7916C66.0831 10.9583 65.1664 5.20825 55.4164 5.20825H44.4998C34.7914 5.20825 33.8748 10.7083 33.2081 14.7499L32.3331 20.0833C28.4581 20.3333 24.5831 20.5833 20.7081 20.9583L12.2081 21.7916C10.4581 21.9583 9.20809 23.4999 9.37476 25.2083C9.54143 26.9166 11.0414 28.1666 12.7914 27.9999L21.2914 27.1666C43.1248 24.9999 65.1248 25.8333 87.2081 28.0416C87.3331 28.0416 87.4164 28.0416 87.5414 28.0416C89.1248 28.0416 90.4998 26.8333 90.6664 25.2083C90.7914 23.4999 89.5414 21.9583 87.7914 21.7916Z"
                      fill="#CA4832" />
                <path d="M80.1248 33.9167C79.1248 32.8751 77.7498 32.2917 76.3331 32.2917H23.6664C22.2498 32.2917 20.8331 32.8751 19.8748 33.9167C18.9164 34.9584 18.3748 36.3751 18.4581 37.8334L21.0414 80.5834C21.4998 86.9167 22.0831 94.8334 36.6248 94.8334H63.3748C77.9164 94.8334 78.4998 86.9584 78.9581 80.5834L81.5414 37.8751C81.6248 36.3751 81.0831 34.9584 80.1248 33.9167ZM56.9164 73.9584H43.0414C41.3331 73.9584 39.9164 72.5417 39.9164 70.8334C39.9164 69.1251 41.3331 67.7084 43.0414 67.7084H56.9164C58.6248 67.7084 60.0414 69.1251 60.0414 70.8334C60.0414 72.5417 58.6248 73.9584 56.9164 73.9584ZM60.4164 57.2917H39.5831C37.8748 57.2917 36.4581 55.8751 36.4581 54.1667C36.4581 52.4584 37.8748 51.0417 39.5831 51.0417H60.4164C62.1248 51.0417 63.5414 52.4584 63.5414 54.1667C63.5414 55.8751 62.1248 57.2917 60.4164 57.2917Z"
                      fill="#CA4832" />
              </svg>
              <h4 class="mt-3">Are you sure you want delete <br /> <span>XXXXXX</span></h4>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-gold">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
